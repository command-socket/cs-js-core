{"version":3,"sources":["schema/ts/schema/message/command-socket-message.ts"],"names":["exports","CORRESPONDENCE_ID_LENGTH"],"mappings":"oEASaA,QAAAC,yBAAmC","file":"command-socket-message.js","sourcesContent":["/*\n *\tCreated by Trevor Sears <trevorsears.main@gmail.com>.\n *\t7:50 PM -- October 19th, 2019.\n *\tProject: @command-socket/core\n */\n\nimport { CommandSocketIdentity } from \"../command-socket-identity\";\nimport { CommandStructure, CommandStructureParameterType, CommandStructureReturnType } from \"../command/command-structure\";\n\nexport const CORRESPONDENCE_ID_LENGTH: number = 10;\n\n/**\n * The schema of a message as received through the CommandSocket platform.\n *\n * @author Trevor Sears <trevorsears.main@gmail.com>\n * @version v0.1.0\n * @since v0.1.0\n */\nexport interface CommandSocketMessage<Command extends CommandStructure = any> {\n\n\treadonly command: string;\n\t\n\treadonly meta: {\n\t\t\n\t\treadonly request: CommandSocketIdentity;\n\t\t\n\t\treadonly response: CommandSocketIdentity | null;\n\t\t\n\t\treadonly timeline: {\n\t\t\t\n\t\t\trequestSent: number;\n\t\t\t\n\t\t\trequestReceived: number | null;\n\t\t\t\n\t\t\tresponseSent: number | null;\n\t\t\t\n\t\t\tresponseReceived: number | null;\n\t\t\t\n\t\t}\n\t\t\n\t\treadonly mode: \"request\" | \"response\";\n\t\t\n\t\treadonly correspondenceID: string;\n\t\t\n\t\treadonly didError: boolean;\n\t\t\n\t};\n\t\n\treadonly parameters: CommandStructureParameterType<Command> | null;\n\t\n\treadonly return: CommandStructureReturnType<Command> | CommandSocketSerializedError | null;\n\n}\n\nexport interface CommandSocketSerializedError {\n\t\n\treadonly name: string;\n\t\n\treadonly message: string;\n\t\n}\n\nexport interface CommandSocketRequestMessage<Command extends CommandStructure = any> extends CommandSocketMessage<Command> {\n\t\n\treadonly command: string;\n\t\n\treadonly meta: {\n\t\t\n\t\treadonly request: CommandSocketIdentity;\n\t\t\n\t\treadonly response: null;\n\t\t\n\t\treadonly timeline: {\n\t\t\t\n\t\t\trequestSent: number;\n\t\t\t\n\t\t\trequestReceived: number | null;\n\t\t\t\n\t\t\tresponseSent: number | null;\n\t\t\t\n\t\t\tresponseReceived: number | null;\n\t\t\t\n\t\t}\n\t\t\n\t\treadonly mode: \"request\";\n\t\t\n\t\treadonly correspondenceID: string;\n\t\t\n\t\treadonly didError: false;\n\t\t\n\t};\n\t\n\treadonly parameters: CommandStructureParameterType<Command>;\n\t\n\treadonly return: null;\n\t\n}\n\nexport interface CommandSocketResponseMessage<Command extends CommandStructure = any> extends CommandSocketMessage<Command> {\n\t\n\treadonly command: string;\n\t\n\treadonly meta: {\n\t\t\n\t\treadonly request: CommandSocketIdentity;\n\t\t\n\t\treadonly response: CommandSocketIdentity;\n\t\t\n\t\treadonly timeline: {\n\t\t\t\n\t\t\trequestSent: number;\n\t\t\t\n\t\t\trequestReceived: number;\n\t\t\t\n\t\t\tresponseSent: number;\n\t\t\t\n\t\t\tresponseReceived: number | null;\n\t\t\t\n\t\t}\n\t\t\n\t\treadonly mode: \"response\";\n\t\t\n\t\treadonly correspondenceID: string;\n\t\t\n\t\treadonly didError: boolean;\n\t\t\n\t};\n\t\n\treadonly parameters: CommandStructureParameterType<Command> | null;\n\t\n\treadonly return: CommandStructureReturnType<Command> | CommandSocketSerializedError;\n\t\n}"]}